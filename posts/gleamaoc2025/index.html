<!doctype html><html lang=en><head><title>I Tried Gleam for Advent of Code, and I Get the Hype :: The Tymscar Blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A 12 day Advent of Code year convinced me Gleam is the real deal, thanks to Rust-like errors, great pipes, and surprisingly ergonomic FP."><meta name=keywords content="gleam,advent of code,fp,beam,javascript,fold_until"><meta name=robots content="noodp"><link rel=canonical href=https://blog.tymscar.com/posts/gleamaoc2025/><link rel=stylesheet href=https://blog.tymscar.com/css/buttons.min.86f6b4c106b6c6eb690ae5203d36b442c1f66f718ff4e8164fa86cf6c61ad641.css><link rel=stylesheet href=https://blog.tymscar.com/css/code.min.d529ea4b2fb8d34328d7d31afc5466d5f7bc2f0bc9abdd98b69385335d7baee4.css><link rel=stylesheet href=https://blog.tymscar.com/css/fonts.min.5bb7ed13e1d00d8ff39ea84af26737007eb5051b157b86fc24487c94f3dc8bbe.css><link rel=stylesheet href=https://blog.tymscar.com/css/footer.min.eb8dfc2c6a7eafa36cd3ba92d63e69e849e2200e0002a228d137f236b09ecd75.css><link rel=stylesheet href=https://blog.tymscar.com/css/gist.min.a751e8b0abe1ba8bc53ced52a38b19d8950fe78ca29454ea8c2595cf26aad5c0.css><link rel=stylesheet href=https://blog.tymscar.com/css/header.min.75c7eb0e2872d95ff48109c6647d0223a38db52e2561dd87966eb5fc7c6bdac6.css><link rel=stylesheet href=https://blog.tymscar.com/css/main.min.36833afd348409fc6c3d09d0897c5833d9d5bf1ff31f5e60ea3ee42ce2b1268c.css><link rel=stylesheet href=https://blog.tymscar.com/css/menu.min.3c17467ebeb3d38663dce68f71f519901124fa5cbb4519b2fb0667a21e9aca39.css><link rel=stylesheet href=https://blog.tymscar.com/css/pagination.min.bbb986dbce00a5ce5aca0504b7925fc1c581992a4bf57f163e5d69cc1db7d836.css><link rel=stylesheet href=https://blog.tymscar.com/css/post.min.e6dddd258e64c83e05cec0cd49c05216742d42fc8ecbfbe6b67083412b609bd3.css><link rel=stylesheet href=https://blog.tymscar.com/css/syntax.min.a0773cce9310cb6d8ed23e50f005448facf29a53001b57e038828daa466b25c0.css><link rel=stylesheet href=https://blog.tymscar.com/css/terminal.min.e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css><link rel=stylesheet href=https://blog.tymscar.com/css/terms.min.b81791663c3790e738e571cdbf802312390d30e4b1d8dc9d814a5b5454d0ac11.css><link rel=stylesheet href=https://blog.tymscar.com/style.css><link rel="shortcut icon" href=https://blog.tymscar.com/img/favicon/favicon.ico><link rel=apple-touch-icon href=https://blog.tymscar.com/apple-touch-icon.png><meta name=twitter:card content="summary"><meta name=twitter:site content="google.com"><meta name=twitter:creator content="tymscar"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="og:title" content="I Tried Gleam for Advent of Code, and I Get the Hype"><meta property="og:description" content="A 12 day Advent of Code year convinced me Gleam is the real deal, thanks to Rust-like errors, great pipes, and surprisingly ergonomic FP."><meta property="og:url" content="https://blog.tymscar.com/posts/gleamaoc2025/"><meta property="og:site_name" content="The Tymscar Blog"><meta property="og:image" content="https://blog.tymscar.com/gleamadventofcode2025/events.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="627"><meta property="article:published_time" content="2025-12-13 12:00:00 +0000 UTC"><img src=https://librecounter.tymscar.com/counter.svg referrerpolicy=unsafe-url width=0 height=0 alt loading=eager decoding=async style=display:none;border:none;outline:none;margin:0;padding:0></head><body><div class="container center"><header class=header><div class=header__inner><div class=header__logo><a href=/><div class=logo>Tymscar</div></a></div></div></header><div class=content><article class=post><h1 class=post-title><a href=https://blog.tymscar.com/posts/gleamaoc2025/>I Tried Gleam for Advent of Code, and I Get the Hype</a></h1><div class=post-meta><time class=post-date>2025-12-13</time><span class=post-author>Oscar Molnar</span><span class=post-reading-time>9 min read (1823 words)</span></div><span class=post-tags>#<a href=https://blog.tymscar.com/tags/gleam/>gleam</a>&nbsp;
#<a href=https://blog.tymscar.com/tags/advent-of-code/>advent-of-code</a>&nbsp;
#<a href=https://blog.tymscar.com/tags/functional-programming/>functional-programming</a>&nbsp;
#<a href=https://blog.tymscar.com/tags/erlang/>erlang</a>&nbsp;
#<a href=https://blog.tymscar.com/tags/javascript/>javascript</a>&nbsp;</span><div class=post-content><div><p>I do Advent of Code every year.</p><p>For the last seven years, including this one, I have managed to get all the stars. I do not say that to brag. I say it because it explains why I keep coming back.</p><p><img src=/gleamadventofcode2025/events.png alt="My Advent of Code stars"></p><p>It is one of the few tech traditions I never get bored of, even after doing it for a long time. I like the time pressure. I like the community vibe. I like that every December I can pick one language and go all in.</p><p>This year, I picked Gleam.</p><h2 id=a-much-shorter-year>A much shorter year<a href=#a-much-shorter-year class=hanchor arialabel=Anchor>#</a></h2><p>Advent of Code is usually 25 days. This year Eric decided to do 12 days instead.</p><p>So instead of 50 parts, it was 24.</p><p>That sounds like a relaxed year. It was not, but not in a bad way.</p><p>The easier days were harder than the easy days in past years, but they were also really engaging and fun to work through. The hard days were hard, especially the last three, but they were still the good kind of hard. They were problems I actually wanted to wrestle with.</p><p>It also changes the pacing in a funny way. In a normal year, by day 10 you have a pretty comfy toolbox. This year it felt like the puzzles were already demanding that toolbox while I was still building it.</p><p>That turned out to be a perfect setup for learning a new language.</p><h2 id=why-gleam-felt-like-a-good-aoc-language>Why Gleam felt like a good AoC language<a href=#why-gleam-felt-like-a-good-aoc-language class=hanchor arialabel=Anchor>#</a></h2><p>Gleam is easy to like quickly.</p><p>The syntax is clean. The compiler is helpful, and the error messages are super duper good. Rust good.</p><p>Most importantly, the language strongly nudges you into a style that fits Advent of Code really well. Parse some text. Transform it a few times. Fold. Repeat.</p><p>Also, pipes. Pipes everywhere. I love pipes.</p><p>One thing I did not expect was how good the editor experience would be. The LSP worked much better than I expected. It basically worked perfectly the whole time. I used the Gleam extension for IntelliJ and it was great.</p><p><a href=https://plugins.jetbrains.com/plugin/25254-gleam-language>https://plugins.jetbrains.com/plugin/25254-gleam-language</a></p><p>I also just like FP.</p><p>FP is not always easier, but it is often easier. When it clicks, you stop writing instructions and you start describing the solution.</p><h2 id=the-first-gleam-superpower-echo>The first Gleam superpower: <code>echo</code><a href=#the-first-gleam-superpower-echo class=hanchor arialabel=Anchor>#</a></h2><p>The first thing I fell in love with was <code>echo</code>.</p><p>It is basically a print statement that does not make you earn it. You can <code>echo</code> any value. You do not have to format anything. You do not have to build a string. You can just drop it into a pipeline and keep going.</p><p>This is the kind of thing I mean:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span>list<span style=color:#f92672>.</span><span style=color:#a6e22e>range</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> <span style=color:#66d9ef>echo</span>
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span>(int<span style=color:#f92672>.</span>to_string)
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> <span style=color:#66d9ef>echo</span>
</span></span></code></pre></div><p>You can quickly inspect values at multiple points without breaking the flow.</p><p>I did miss string interpolation, especially early on. <code>echo</code> made up for a lot of that.</p><p>It mostly hit when I needed to generate text, not when I needed to inspect values. The day where I generated an LP file for <code>glpsol</code> is the best example. It is not hard code, but it is a lot of string building. Without interpolation it turns into a bit of a mess of <code>&lt;></code>s.</p><p>This is a small excerpt from my LP generator:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span><span style=color:#e6db74>&#34;Minimize</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>&lt;&gt; <span style=color:#e6db74>&#34;  total: &#34;</span>
</span></span><span style=display:flex><span>&lt;&gt; buttons
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> string<span style=color:#f92672>.</span><span style=color:#a6e22e>join</span>(<span style=color:#e6db74>&#34; + &#34;</span>)
</span></span><span style=display:flex><span>&lt;&gt; <span style=color:#e6db74>&#34;</span><span style=color:#ae81ff>\n\n</span><span style=color:#e6db74>Subject To</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>
</span></span></code></pre></div><p>It works. It is just the kind of code where you really feel missing interpolation.</p><h2 id=options-everywhere-and-why-that-matters-for-grid-puzzles>Options everywhere, and why that matters for grid puzzles<a href=#options-everywhere-and-why-that-matters-for-grid-puzzles class=hanchor arialabel=Anchor>#</a></h2><p>A lot of AoC is grids.</p><p>Grids are where you normally either crash into out of bounds bugs, or you litter your code with bounds checks you do not care about.</p><p>In my day 4 solution I used a dict as a grid. The key ergonomic part is that <code>dict.get</code> gives you an option-like result, which makes neighbour checking safe by default.</p><p>This is the neighbour function from my solution:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span><span style=color:#66d9ef>fn</span> <span style=color:#a6e22e>get_neighbours</span>(grid<span style=color:#f92672>:</span> <span style=color:#a6e22e>Grid</span>(<span style=color:#a6e22e>Object</span>), pos<span style=color:#f92672>:</span> <span style=color:#a6e22e>Position</span>) <span style=color:#f92672>-&gt;</span> <span style=color:#a6e22e>List</span>(<span style=color:#a6e22e>Object</span>) {
</span></span><span style=display:flex><span>  [
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>    #(pos<span style=color:#f92672>.</span><span style=color:#ae81ff>0</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>, pos<span style=color:#f92672>.</span><span style=color:#ae81ff>1</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>  <span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>filter_map</span>(<span style=color:#66d9ef>fn</span>(neighbour_pos) { grid <span style=color:#f92672>|&gt;</span> dict<span style=color:#f92672>.</span><span style=color:#a6e22e>get</span>(neighbour_pos) })
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>That last line is the whole point.</p><p>No bounds checks. No sentinel values. Out of bounds just disappears.</p><h2 id=the-list-toolbox-is-genuinely-good>The list toolbox is genuinely good<a href=#the-list-toolbox-is-genuinely-good class=hanchor arialabel=Anchor>#</a></h2><p>I expected to write parsers and helpers, and I did. What I did not expect was how often Gleam already had the exact list function I needed.</p><h3 id=listtranspose-saved-a-whole-day><code>list.transpose</code> saved a whole day<a href=#listtranspose-saved-a-whole-day class=hanchor arialabel=Anchor>#</a></h3><p>Day 6 part 1 was basically a transpose problem in disguise.</p><p>I read the input, chunked it into rows, transposed it, and suddenly the rest of the puzzle became obvious.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span>input
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span>transpose
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>map</span>(<span style=color:#66d9ef>fn</span>(line) { line <span style=color:#f92672>|&gt;</span> calculate_instruction })
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> bigi<span style=color:#f92672>.</span>sum
</span></span></code></pre></div><p>In a lot of languages you end up writing your own transpose yet again. In Gleam it is already there.</p><h3 id=listcombination_pairs-is-a-cheat-code><code>list.combination_pairs</code> is a cheat code<a href=#listcombination_pairs-is-a-cheat-code class=hanchor arialabel=Anchor>#</a></h3><p>Another example is <code>list.combination_pairs</code>.</p><p>In day 8 I needed all pairs of 3D points. In an imperative language you would probably write nested loops and then question your off by one logic.</p><p>In Gleam it is a one liner:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span>boxes
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span>combination_pairs
</span></span></code></pre></div><p>Sometimes FP is not about being clever. It is about having the right function name.</p><h2 id=fold_until-is-my-favorite-thing-i-found><code>fold_until</code> is my favorite thing I found<a href=#fold_until-is-my-favorite-thing-i-found class=hanchor arialabel=Anchor>#</a></h2><p>If I had to pick one feature that made me want to keep writing Gleam after AoC, it is <code>fold_until</code>.</p><p>Early exit without hacks is fantastic in puzzles.</p><p>In day 8 part 2 I kept merging sets until the first set in the list contained all boxes. When that happens, I stop.</p><p>The core shape looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span><span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>fold_until</span>(initial, <span style=color:#66d9ef>fn</span>(acc, pair) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>case</span> done_yet {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>True</span> <span style=color:#f92672>-&gt;</span> <span style=color:#a6e22e>Stop</span>(new_acc)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>False</span> <span style=color:#f92672>-&gt;</span> <span style=color:#a6e22e>Continue</span>(new_acc)
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>It is small, explicit, and it reads like intent.</p><p>I also used <code>fold_until</code> in day 10 part 1 to find the smallest combination size that works.</p><h2 id=where-gleam-fought-me-a-bit>Where Gleam fought me a bit<a href=#where-gleam-fought-me-a-bit class=hanchor arialabel=Anchor>#</a></h2><p>Even though I enjoyed Gleam a lot, I did hit a few recurring friction points.</p><p>None of these are deal breakers. They are just the kind of things you notice when you do 24 parts in a row.</p><h3 id=file-io-is-not-in-the-standard-library>File IO is not in the standard library<a href=#file-io-is-not-in-the-standard-library class=hanchor arialabel=Anchor>#</a></h3><p>This one surprised me on day 1.</p><p>For AoC you read a file every day. In this repo I used <code>simplifile</code> everywhere because you need something. It is fine, I just did not expect basic file IO to be outside the standard library.</p><h3 id=regex-is-a-dependency-too>Regex is a dependency too<a href=#regex-is-a-dependency-too class=hanchor arialabel=Anchor>#</a></h3><p>Day 2 part 2 pushed me into regex and I had to add <code>gleam_regexp</code>.</p><p>This is the style I used, building a regex from a substring:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#66d9ef>assert</span> <span style=color:#a6e22e>Ok</span>(re) <span style=color:#f92672>=</span> regexp<span style=color:#f92672>.</span><span style=color:#a6e22e>from_string</span>(<span style=color:#e6db74>&#34;^(&#34;</span> &lt;&gt; substring &lt;&gt; <span style=color:#e6db74>&#34;)+$&#34;</span>)
</span></span><span style=display:flex><span>regexp<span style=color:#f92672>.</span><span style=color:#a6e22e>check</span>(re, val)
</span></span></code></pre></div><p>Again, totally fine. It just surprised me.</p><h3 id=list-pattern-matching-limitations>List pattern matching limitations<a href=#list-pattern-matching-limitations class=hanchor arialabel=Anchor>#</a></h3><p>You can do <code>[first, ..rest]</code> and you can do <code>[first, second]</code>.</p><p>But you cannot do <code>[first, ..middle, last]</code>.</p><p>It is not the end of the world, but it would have made some parsing cleaner.</p><h3 id=comparisons-are-explicit>Comparisons are explicit<a href=#comparisons-are-explicit class=hanchor arialabel=Anchor>#</a></h3><p>In Gleam a lot of comparisons are not booleans. You get an <code>order</code> value.</p><p>This is great for sorting. It is also very explicit. It can be a bit verbose when you just want an <code>&lt;=</code> check.</p><p>In day 5 I ended up writing patterns like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span><span style=color:#66d9ef>case</span> cmp_start, cmp_end {
</span></span><span style=display:flex><span>  order<span style=color:#f92672>.</span><span style=color:#a6e22e>Lt</span>, _ <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>  _, order<span style=color:#f92672>.</span><span style=color:#a6e22e>Gt</span> <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>  _, _ <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=big-integers-and-targeting-javascript>Big integers, and targeting JavaScript<a href=#big-integers-and-targeting-javascript class=hanchor arialabel=Anchor>#</a></h2><p>I used <code>bigi</code> a few times this year.</p><p>On the Erlang VM, integers are arbitrary precision, so you usually do not care about overflow. That is one of the nicest things about the BEAM.</p><p>If you want your Gleam code to also target JavaScript, you do care. JavaScript has limits, and suddenly using <code>bigi</code> becomes necessary for some puzzles.</p><p>I wish that was just part of <code>Int</code>, with a single consistent story across targets.</p><h2 id=the-most-satisfying-part-xor-as-bitmasks>The most satisfying part: XOR as bitmasks<a href=#the-most-satisfying-part-xor-as-bitmasks class=hanchor arialabel=Anchor>#</a></h2><p>Day 10 part 1 was my favorite part of the whole event.</p><p>The moment I saw the toggling behavior, it clicked as XOR. Represent the lights as a number. Represent each button as a bitmask. Find the smallest combination of bitmasks that XOR to the target.</p><p>This is the fold from my solution:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span>combination
</span></span><span style=display:flex><span><span style=color:#f92672>|&gt;</span> list<span style=color:#f92672>.</span><span style=color:#a6e22e>fold</span>(<span style=color:#ae81ff>0</span>, <span style=color:#66d9ef>fn</span>(acc, comb) {
</span></span><span style=display:flex><span>  int<span style=color:#f92672>.</span><span style=color:#a6e22e>bitwise_exclusive_or</span>(acc, comb)
</span></span><span style=display:flex><span>})
</span></span></code></pre></div><p>It felt clean, it felt fast, and it felt like the representation did most of the work.</p><h2 id=the-least-satisfying-part-shelling-out-to-glpsol>The least satisfying part: shelling out to <code>glpsol</code><a href=#the-least-satisfying-part-shelling-out-to-glpsol class=hanchor arialabel=Anchor>#</a></h2><p>Day 10 part 2 was the opposite feeling.</p><p>I knew brute force was out. It was clearly a system of linear equations.</p><p>In previous years I would reach for Z3, but there are no Z3 bindings for Gleam. I tried to stay in Gleam, and I ended up generating an LP file and shelling out to <code>glpsol</code> using <code>shellout</code>.</p><p>It worked, and honestly the LP format is beautiful.</p><p>Here is the call:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span><span style=color:#66d9ef>let</span> _ <span style=color:#f92672>=</span>
</span></span><span style=display:flex><span>  shellout<span style=color:#f92672>.</span><span style=color:#a6e22e>command</span>(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;glpsol&#34;</span>,
</span></span><span style=display:flex><span>    [<span style=color:#e6db74>&#34;--lp&#34;</span>, <span style=color:#e6db74>&#34;temp.lp&#34;</span>, <span style=color:#e6db74>&#34;-w&#34;</span>, <span style=color:#e6db74>&#34;temp_sol.txt&#34;</span>],
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#34;.&#34;</span>,
</span></span><span style=display:flex><span>    [],
</span></span><span style=display:flex><span>  )
</span></span></code></pre></div><p>It is a hack, but it is a pragmatic hack, and that is also part of Advent of Code.</p><h2 id=memoization-keys-that-actually-model-the-problem>Memoization keys that actually model the problem<a href=#memoization-keys-that-actually-model-the-problem class=hanchor arialabel=Anchor>#</a></h2><p>Day 11 part 2 is where I was happy I was writing Gleam.</p><p>The important detail was that the memo key is not just the node. It is the node plus your state.</p><p>In my case the key was:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span>#(neighbour, new_seen_dac, new_seen_fft)
</span></span></code></pre></div><p>Once I got the memo threading right, it ran instantly.</p><h2 id=the-finale-and-the-troll-heuristic>The finale, and the troll heuristic<a href=#the-finale-and-the-troll-heuristic class=hanchor arialabel=Anchor>#</a></h2><p>The last day was the only puzzle I did not fully enjoy.</p><p>Not because it was bad. It just felt like it relied on assumptions about the input, and I am one of those people that does not love doing that.</p><p>I overthought it for a bit, then I learned it was more of a troll problem. The “do the areas of the pieces, when fully interlocked, fit on the board” heuristic was enough.</p><p>In my solution it is literally this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gleam data-lang=gleam><span style=display:flex><span>heuristic_area <span style=color:#f92672>&lt;=</span> max_area
</span></span></code></pre></div><p>Sometimes you build a beautiful mental model and then the right answer is a single inequality.</p><h2 id=closing-thoughts>Closing thoughts<a href=#closing-thoughts class=hanchor arialabel=Anchor>#</a></h2><p>I am very happy I picked Gleam this year.</p><p>It has sharp edges, mostly around where the standard library draws the line and a few language constraints that show up in puzzle code. But it also has real strengths.</p><p>Pipelines feel good. Options and Results make unsafe problems feel safe. The list toolbox is better than I expected. <code>fold_until</code> is incredible. Once you stop trying to write loops and you let it be functional, the solutions start to feel clearer.</p><p>I cannot wait to try Gleam in a real project. I have been thinking about using it to write a webserver, and I am genuinely excited to give it a go.</p><p>And of course, I cannot wait for next year’s Advent of Code.</p><p>If you want to look at the source for all 12 days, it is here:</p><p><a href=https://github.com/tymscar/Advent-Of-Code/tree/master/2025/gleam/aoc/src>https://github.com/tymscar/Advent-Of-Code/tree/master/2025/gleam/aoc/src</a></p></div></div><div class=pagination><div class=pagination__title><span class=pagination__title-h>Read other posts</span><hr></div><div class=pagination__buttons><a href=https://blog.tymscar.com/posts/imgurukproxy/ class="button inline next">[<span class=button__text>Imgur Geo-Blocked the UK, So I Geo-Unblocked My Entire Network</span>] ></a></div></div></article></div><footer class=footer><div class=footer__inner><div class=copyright><span>© 2025 Powered by <a href=https://gohugo.io>Hugo</a></span>
<span>:: <a href=https://github.com/panr/hugo-theme-terminal target=_blank>Theme</a> made by <a href=https://github.com/panr target=_blank>panr</a></span></div></div></footer><script type=text/javascript src=/bundle.min.js></script></div></body></html>